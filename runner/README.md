



### Properties

| Parameters             | Datatype     | Access  | spec              | Sample value                              | Usage                                                                                                                                                                               | Mehtods associated                              |
| ---------------------- | ------------ | ------- | ----------------- | ----------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------- |
| `id`                   | string       | private | autogenerated     | "20ad0fe445e0fd6e597b7a1ac102a35e"        | Uniqie id of each unner instance                                                                                                                                                    | .getState()                                     |
| `isConsole`            | bool         | private | optional-setting  | false                                     | If set ture, system commands output will be printed on console. default=false (disabled                                                                                             | .EnableConsole(), .DisableConsole), .getState() |
| `timeout`              | int          | private | optional-setting  | 9                                         | Runner will force terminate the system command execution if it exceeds <n> seconds. ddefault=0 (no-timeout)                                                                         | .SetTimeout(), .getState()                      |
| `waitingPeriod`        | int          | private | optional-setting  | 3                                         | Runner will wait <n> seconds before executing. default=0 (no delay)                                                                                                                 | .SetWaitingPeriod(), .getState()                |
| `logFile`              | string       | private | optional-setting  | "log.md"                                  | Running will write STDOUT of the system call in this file. default="" (file logging disabled)                                                                                       | .SetLogFile()                                   |
| `execuitedAt`          | int64        | private | system-generated  | 1693137765180789285                       | The timestamp of the beginning of the command execution (epoch nanosecond). default=0                                                                                               | .getState()                                     |
| `executionTimeNano`    | int64        | private | system-generated  | 10001158509                               | Execution time / duration of the system call (in nanoseconds). default=0                                                                                                            | .getState()                                     |
| `verificationPhrase`   | string       | private | optional-setting  | "Ready"                                   | User can provide a phrase/string. the runner will match this string in the output of the system call. if found then state=SUCCESSFUL. default="" (no verification)                  | .SetVerificationPhrase(), .getState()           |
| `status`               | string       | private | system-generated  | "PENDING"                                 | The current state of the runner. possible states: PENDING \| RUNNING \| COMPLETED \| FAILED \| TIMEDOUT \| SUCCEEDED \| KILLED. default=PENDING                                     | .GetStatus(), .GetState()                       |
| `sysCmd`               | string       | private | mandatory-input   | "ping google.com -c 4"                    | The system command the user must provide to run                                                                                                                                     | .NewRunner(), .GetState()                       |
| `logBuffer`            | []byte       | private | system-generated  |                                           | The `STDOUT` content of the system call is stored here.                                                                                                                             | .Logs(), .ClearLogs()                           |
| `cmd`                  | *exec.Cmd    | private | internal-usage    |                                           |                                                                                                                                                                                     |                                                 |
| `onNewLogLineCallback` | func([]byte) | private | optional-callback | func logCallback (logLine []byte) {}      | If attached, an user-defined callback function will be called every time the system call generates a new line in `STDOUT`. the new line will be injected into the callback function | .SetOnNewLineCallback()                         |
| `onSuccessCallback`    | func([]byte) | private | optional-calback  | func successCallback (logLine []byte) {}  | If attached, an user-defined callback function will be called if the user-provided verification phrase is found in the output of the system call.                                   | .SetOnSuccessCallback()                         |
| `onCompleteCallback`   | func([]byte) | private | optional-callback | func completeCallback (logLine []byte) {} | If attached, an user-defined callback function will be called if and when the system call exits with exit-code=0 and verification is disabled                                       | .SetOnCompleteCallback()                        |
| `onFailCallback`       | func([]byte) | private | optional-callback | func failCallback (logLine []byte) {}     | If attached, an user-defined callback function will be called if and when the system call exits with a non-zero status-code                                                         | .SetOnFailCallback()                            |
| `onTimeoutCallback`    | func([]byte) | private | optional-callback | func timeoutCallback (logLine []byte) {}  | If attached an user-defined callback function will be called if and when the system call times out                                                                                  | .SetOnTimeoutCallback()                         |





### Methods

| Methods                                                            | Input-desc                                                                                                            | Output-desc                                 | Function                                                                                                                                                       |
| ------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |:--------------------------------------------------------------------------------------------------------------------------------------------------------------:|
| `func NewRunner(cmd string) *Runner {}`                            | the system command that                                                                                               | runner object instance                      | Instantiate a new runner object                                                                                                                                |
| `func(r *Runner) EnableConsole() {}`                               |                                                                                                                       |                                             | Enable console logging. if enabled, the system call's output will be printed to console                                                                        |
| `func(r *Runner) DisableConsole() {}`                              |                                                                                                                       |                                             | Disable console login                                                                                                                                          |
| `func(r *Runner) SetTimeout(timeout int) {}`                       | timeout in seconds                                                                                                    |                                             | Set execution timeout (in seconds)                                                                                                                             |
| `func(r *Runner) SetWaitingPeriod(wp int) {}`                      | waiting-period in seconds                                                                                             |                                             | If set runner will wait these many seconds before execuiting the system command                                                                                |
| `func (r *Runner) SetLogFile(file string) {}`                      | name of the log file                                                                                                  |                                             | If set, then the runner will create (or open) a log file with the provided name and will insert each command and its output in that file.                      |
| `func (r *Runner) SetVerificationPhrase(phrase string) {}`         | a phrase "string" that is expected to be in the system call's output for the system call to be qualified as a success |                                             | If set, the runner will search the provided phrase in the system-call's output. If found then the state will become `SUCCEEDed`                                |
| `func (r *Runner) SetOnNewLineCallback(callback func([]byte)) {}`  | an user-defined function                                                                                              |                                             | If attached, an user-defined function will be called every time the system call generates a new line. The new line will be injected into the attached function |
| `func (r *Runner) SetOnSuccessCallback(callback func([]byte)) {}`  | an user-defined function                                                                                              |                                             | If attached, an user-defined callback function will be called if the user-provided verification phrase is found in the output of the system call.              |
| `func (r *Runner) SetOnCompleteCallback(callback func([]byte)) {}` | an user-defined function                                                                                              |                                             | If attached, an user-defined callback function will be called if and when the system call exits with exit-code=0 and verification is disabled                  |
| `func (r *Runner) SetOnFailCallback(callback func([]byte)) {}`     | an user-defined function                                                                                              |                                             | If attached, an user-defined callback function will be called if and when the system call exits with a non-zero status-code                                    |
| `func (r *Runner) SetOnTimeoutCallback(callback func([]byte)) {}`  | an user-defined function                                                                                              |                                             | If attached an user-defined callback function will be called if and when the system call times out                                                             |
| `func (r *Runner) GetState() map[string]interface{} {}`            |                                                                                                                       | returns all the parameters                  | Is used mostly for debugging                                                                                                                                   |
| `func (r *Runner) GetStatus() string {}`                           |                                                                                                                       | returns the current status (e.g. `RUNNING`) | Using this method one can chain multiple sequential commands with conditional branching. e.g. onSuccess() execute the next command and onFailure() retry       |
| `func (r *Runner) Execute(commands ...string) ([]byte, error) {}`  | optinal - one or more system comands to execute                                                                       | log, error                                  | This is the main method that executes the system-call                                                                                                          |
| `func (r *Runner) Logs() string {}`                                |                                                                                                                       | returns                                     |                                                                                                                                                                |